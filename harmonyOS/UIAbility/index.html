<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>UIAbility | Wsh&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/logo.png">
    <meta name="description" content="ç»å¸¸å·æ‡’ï¼Œå¶å°”æ›´æ–°çš„">
    
    <link rel="preload" href="/assets/css/0.styles.bc63fb2f.css" as="style"><link rel="preload" href="/assets/js/app.b9210fed.js" as="script"><link rel="preload" href="/assets/js/2.dc8a2400.js" as="script"><link rel="preload" href="/assets/js/20.fb7a117c.js" as="script"><link rel="prefetch" href="/assets/js/10.0b1da748.js"><link rel="prefetch" href="/assets/js/11.8e999e9c.js"><link rel="prefetch" href="/assets/js/12.d98e8047.js"><link rel="prefetch" href="/assets/js/13.a19f7b3e.js"><link rel="prefetch" href="/assets/js/14.bc46e720.js"><link rel="prefetch" href="/assets/js/15.77a7cb2e.js"><link rel="prefetch" href="/assets/js/16.45f3798f.js"><link rel="prefetch" href="/assets/js/17.65043558.js"><link rel="prefetch" href="/assets/js/18.60c02aca.js"><link rel="prefetch" href="/assets/js/19.f6f74a85.js"><link rel="prefetch" href="/assets/js/21.bf9c4a2f.js"><link rel="prefetch" href="/assets/js/22.f61b5f3f.js"><link rel="prefetch" href="/assets/js/23.2a31a58d.js"><link rel="prefetch" href="/assets/js/24.b7a6c970.js"><link rel="prefetch" href="/assets/js/25.b97cbe49.js"><link rel="prefetch" href="/assets/js/26.7e90b5f9.js"><link rel="prefetch" href="/assets/js/27.153684d6.js"><link rel="prefetch" href="/assets/js/28.febd54c4.js"><link rel="prefetch" href="/assets/js/29.401b0810.js"><link rel="prefetch" href="/assets/js/3.1683544b.js"><link rel="prefetch" href="/assets/js/30.0d4a90f6.js"><link rel="prefetch" href="/assets/js/31.70c28748.js"><link rel="prefetch" href="/assets/js/32.cfc92eb6.js"><link rel="prefetch" href="/assets/js/33.59c2f9c5.js"><link rel="prefetch" href="/assets/js/34.57abc5b0.js"><link rel="prefetch" href="/assets/js/35.a5eb917d.js"><link rel="prefetch" href="/assets/js/36.12ceae77.js"><link rel="prefetch" href="/assets/js/37.db795768.js"><link rel="prefetch" href="/assets/js/38.7ff72b75.js"><link rel="prefetch" href="/assets/js/39.22113c32.js"><link rel="prefetch" href="/assets/js/4.c704e751.js"><link rel="prefetch" href="/assets/js/40.542d0ed3.js"><link rel="prefetch" href="/assets/js/41.3faa70b0.js"><link rel="prefetch" href="/assets/js/42.341637d9.js"><link rel="prefetch" href="/assets/js/43.4a4fb236.js"><link rel="prefetch" href="/assets/js/44.c849e3dc.js"><link rel="prefetch" href="/assets/js/45.41becb49.js"><link rel="prefetch" href="/assets/js/46.0ac12494.js"><link rel="prefetch" href="/assets/js/47.2e698dfe.js"><link rel="prefetch" href="/assets/js/48.2076eadc.js"><link rel="prefetch" href="/assets/js/49.5f2e0038.js"><link rel="prefetch" href="/assets/js/5.2db75e05.js"><link rel="prefetch" href="/assets/js/50.cff38e55.js"><link rel="prefetch" href="/assets/js/51.3c1116c5.js"><link rel="prefetch" href="/assets/js/52.c5656eba.js"><link rel="prefetch" href="/assets/js/53.60f608a2.js"><link rel="prefetch" href="/assets/js/54.59a23ca5.js"><link rel="prefetch" href="/assets/js/55.70a0fbe3.js"><link rel="prefetch" href="/assets/js/56.c9dd2aa9.js"><link rel="prefetch" href="/assets/js/57.0bc51cac.js"><link rel="prefetch" href="/assets/js/58.accfdc8d.js"><link rel="prefetch" href="/assets/js/59.ee963ea9.js"><link rel="prefetch" href="/assets/js/6.9073f8bb.js"><link rel="prefetch" href="/assets/js/60.9ef9a297.js"><link rel="prefetch" href="/assets/js/61.10ffb3b6.js"><link rel="prefetch" href="/assets/js/62.40260df1.js"><link rel="prefetch" href="/assets/js/63.a95030cb.js"><link rel="prefetch" href="/assets/js/64.af07edb5.js"><link rel="prefetch" href="/assets/js/65.fcbd6762.js"><link rel="prefetch" href="/assets/js/66.8f07eb09.js"><link rel="prefetch" href="/assets/js/67.432e08ac.js"><link rel="prefetch" href="/assets/js/68.81e114e9.js"><link rel="prefetch" href="/assets/js/69.708928e7.js"><link rel="prefetch" href="/assets/js/7.6922c449.js"><link rel="prefetch" href="/assets/js/70.95d0b200.js"><link rel="prefetch" href="/assets/js/71.bf72ae16.js"><link rel="prefetch" href="/assets/js/72.5a2d9c13.js"><link rel="prefetch" href="/assets/js/73.d1365aa9.js"><link rel="prefetch" href="/assets/js/74.c5235ea7.js"><link rel="prefetch" href="/assets/js/75.dcd1d00d.js"><link rel="prefetch" href="/assets/js/76.57d3a9bd.js"><link rel="prefetch" href="/assets/js/77.3f938370.js"><link rel="prefetch" href="/assets/js/78.0a8f4bea.js"><link rel="prefetch" href="/assets/js/79.368892d2.js"><link rel="prefetch" href="/assets/js/8.922b3edf.js"><link rel="prefetch" href="/assets/js/80.49b05277.js"><link rel="prefetch" href="/assets/js/81.8d77f940.js"><link rel="prefetch" href="/assets/js/82.522b4616.js"><link rel="prefetch" href="/assets/js/83.9491499c.js"><link rel="prefetch" href="/assets/js/84.1aee62a9.js"><link rel="prefetch" href="/assets/js/85.1dec4854.js"><link rel="prefetch" href="/assets/js/86.2a308933.js"><link rel="prefetch" href="/assets/js/87.084bb0c1.js"><link rel="prefetch" href="/assets/js/88.e947a380.js"><link rel="prefetch" href="/assets/js/89.9b74a95d.js"><link rel="prefetch" href="/assets/js/9.c1b7ec7e.js"><link rel="prefetch" href="/assets/js/90.95ade509.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bc63fb2f.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/1.gif" alt="Wsh's blog" class="logo"> <span class="site-name can-hide">Wsh's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AIGC" class="dropdown-title"><a href="/aiAgent/" class="link-title">AIGC</a> <span class="title" style="display:none;">AIGC</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/aiAgent/bacis/" class="nav-link">AgentåŸºç¡€</a></li><li class="dropdown-item"><!----> <a href="/aiAgent/design/" class="nav-link">Agentè®¾è®¡æ¨¡å¼</a></li><li class="dropdown-item"><!----> <a href="/aiAgent/model/" class="nav-link">Agentå¤šæ¨¡æ€</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="harmonyOS" class="dropdown-title"><a href="/harmonyOS/" class="link-title router-link-active">harmonyOS</a> <span class="title" style="display:none;">harmonyOS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/harmonyOS/base/" class="nav-link">åŸºç¡€çŸ¥è¯†</a></li><li class="dropdown-item"><!----> <a href="/harmonyOS/ArkUI/" class="nav-link">ArkUI</a></li><li class="dropdown-item"><!----> <a href="/harmonyOS/UIAbility/" aria-current="page" class="nav-link router-link-exact-active router-link-active">UIAbility</a></li><li class="dropdown-item"><!----> <a href="/harmonyOS/state/" class="nav-link">ç»„ä»¶é€šä¿¡æ–¹å¼</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="çŸ¥è¯†ğŸ‘–" class="dropdown-title"><a href="/note/" class="link-title">çŸ¥è¯†ğŸ‘–</a> <span class="title" style="display:none;">çŸ¥è¯†ğŸ‘–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/cache/" class="nav-link">å‰ç«¯ç¼“å­˜</a></li><li class="dropdown-item"><!----> <a href="/note/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/note/typescript/" class="nav-link">typescript</a></li><li class="dropdown-item"><!----> <a href="/note/javascript/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/note/flutter/" class="nav-link">flutter</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥ç¨‹ğŸŒ¹" class="dropdown-title"><a href="/tool/" class="link-title">å·¥ç¨‹ğŸŒ¹</a> <span class="title" style="display:none;">å·¥ç¨‹ğŸŒ¹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/node/" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/tool/webpack/" class="nav-link">webpack</a></li></ul></div></div><div class="nav-item"><a href="/web3D/" class="nav-link">web3DğŸ˜‰</a></div><div class="nav-item"><a href="/pages/library/" class="nav-link">å®åº“ğŸ“°</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•ğŸ”’" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•ğŸ”’</a> <span class="title" style="display:none;">ç´¢å¼•ğŸ”’</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><a href="https://blog.fudenglong.site" target="_blank" rel="noopener noreferrer" class="nav-link external">
  é¾™å“¥çš„å¤§ğŸ‚ä¹‹è·¯
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/wshuhua" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/images/avatar.gif"> <div class="blogger-info"><h3>wsh</h3> <span>äººæœªè€ï¼Œæƒ³å…»è€</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AIGC" class="dropdown-title"><a href="/aiAgent/" class="link-title">AIGC</a> <span class="title" style="display:none;">AIGC</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/aiAgent/bacis/" class="nav-link">AgentåŸºç¡€</a></li><li class="dropdown-item"><!----> <a href="/aiAgent/design/" class="nav-link">Agentè®¾è®¡æ¨¡å¼</a></li><li class="dropdown-item"><!----> <a href="/aiAgent/model/" class="nav-link">Agentå¤šæ¨¡æ€</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="harmonyOS" class="dropdown-title"><a href="/harmonyOS/" class="link-title router-link-active">harmonyOS</a> <span class="title" style="display:none;">harmonyOS</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/harmonyOS/base/" class="nav-link">åŸºç¡€çŸ¥è¯†</a></li><li class="dropdown-item"><!----> <a href="/harmonyOS/ArkUI/" class="nav-link">ArkUI</a></li><li class="dropdown-item"><!----> <a href="/harmonyOS/UIAbility/" aria-current="page" class="nav-link router-link-exact-active router-link-active">UIAbility</a></li><li class="dropdown-item"><!----> <a href="/harmonyOS/state/" class="nav-link">ç»„ä»¶é€šä¿¡æ–¹å¼</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="çŸ¥è¯†ğŸ‘–" class="dropdown-title"><a href="/note/" class="link-title">çŸ¥è¯†ğŸ‘–</a> <span class="title" style="display:none;">çŸ¥è¯†ğŸ‘–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/cache/" class="nav-link">å‰ç«¯ç¼“å­˜</a></li><li class="dropdown-item"><!----> <a href="/note/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/note/typescript/" class="nav-link">typescript</a></li><li class="dropdown-item"><!----> <a href="/note/javascript/" class="nav-link">javascript</a></li><li class="dropdown-item"><!----> <a href="/note/flutter/" class="nav-link">flutter</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å·¥ç¨‹ğŸŒ¹" class="dropdown-title"><a href="/tool/" class="link-title">å·¥ç¨‹ğŸŒ¹</a> <span class="title" style="display:none;">å·¥ç¨‹ğŸŒ¹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tool/node/" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/tool/webpack/" class="nav-link">webpack</a></li></ul></div></div><div class="nav-item"><a href="/web3D/" class="nav-link">web3DğŸ˜‰</a></div><div class="nav-item"><a href="/pages/library/" class="nav-link">å®åº“ğŸ“°</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•ğŸ”’" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•ğŸ”’</a> <span class="title" style="display:none;">ç´¢å¼•ğŸ”’</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><a href="https://blog.fudenglong.site" target="_blank" rel="noopener noreferrer" class="nav-link external">
  é¾™å“¥çš„å¤§ğŸ‚ä¹‹è·¯
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/wshuhua" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/harmonyOS/base/" class="sidebar-link">åŸºç¡€çŸ¥è¯†</a></li><li><a href="/harmonyOS/ArkUI/" class="sidebar-link">ArkUI</a></li><li><a href="/harmonyOS/UIAbility/" aria-current="page" class="active sidebar-link">UIAbility</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/harmonyOS/UIAbility/#uiabilityç»„ä»¶æ¦‚å¿µ" class="sidebar-link">UIAbilityç»„ä»¶æ¦‚å¿µ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#å£°æ˜é…ç½®" class="sidebar-link">å£°æ˜é…ç½®</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/harmonyOS/UIAbility/#uiabilityç»„ä»¶å£°æ˜å‘¨æœŸ" class="sidebar-link">UIAbilityç»„ä»¶å£°æ˜å‘¨æœŸ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#create-çŠ¶æ€" class="sidebar-link">Create çŠ¶æ€</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/harmonyOS/UIAbility/#uiabilityç»„ä»¶å¯åŠ¨æ¨¡å¼" class="sidebar-link">UIAbilityç»„ä»¶å¯åŠ¨æ¨¡å¼</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#singleton-å•å®ä¾‹æ¨¡å¼" class="sidebar-link">singleton(å•å®ä¾‹æ¨¡å¼)</a></li><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#multition-å¤šå®ä¾‹æ¨¡å¼" class="sidebar-link">multition(å¤šå®ä¾‹æ¨¡å¼)</a></li><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#specified-æŒ‡å®šå®ä¾‹æ¨¡å¼" class="sidebar-link">specified(æŒ‡å®šå®ä¾‹æ¨¡å¼)</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/harmonyOS/UIAbility/#uiability-ç»„ä»¶åŸºæœ¬ç”¨æ³•" class="sidebar-link">UIAbility ç»„ä»¶åŸºæœ¬ç”¨æ³•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#æŒ‡å®šuiabilityçš„å¯åŠ¨é¡µé¢" class="sidebar-link">æŒ‡å®šUIAbilityçš„å¯åŠ¨é¡µé¢</a></li><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#è·å–uiabilityçš„ä¸Šä¸‹æ–‡ä¿¡æ¯" class="sidebar-link">è·å–UIAbilityçš„ä¸Šä¸‹æ–‡ä¿¡æ¯</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/harmonyOS/UIAbility/#uiabilityç»„ä»¶ä¸uiçš„æ•°æ®åŒæ­¥" class="sidebar-link">UIAbilityç»„ä»¶ä¸UIçš„æ•°æ®åŒæ­¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#ä½¿ç”¨eventhubè¿›è¡Œæ•°æ®é€šä¿¡" class="sidebar-link">ä½¿ç”¨EventHubè¿›è¡Œæ•°æ®é€šä¿¡</a></li><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#ä½¿ç”¨globalthisè¿›è¡Œæ•°æ®åŒæ­¥" class="sidebar-link">ä½¿ç”¨globalThisè¿›è¡Œæ•°æ®åŒæ­¥</a></li><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#ä½¿ç”¨appstorage-localstorageè¿›è¡Œæ•°æ®åŒæ­¥" class="sidebar-link">ä½¿ç”¨AppStorage/LocalStorageè¿›è¡Œæ•°æ®åŒæ­¥</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/harmonyOS/UIAbility/#uiabilityç»„ä»¶å†…äº¤äº’-è®¾å¤‡å†…" class="sidebar-link">UiAbilityç»„ä»¶å†…äº¤äº’ï¼ˆè®¾å¤‡å†…ï¼‰</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#å¯åŠ¨åº”ç”¨å†…çš„uiability" class="sidebar-link">å¯åŠ¨åº”ç”¨å†…çš„UIAbility</a></li><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#å¯åŠ¨åº”ç”¨å†…çš„uiabilityå¹¶è·å–è¿”å›ç»“æœ" class="sidebar-link">å¯åŠ¨åº”ç”¨å†…çš„UIAbilityå¹¶è·å–è¿”å›ç»“æœ</a></li><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#å¯åŠ¨å…¶ä»–åº”ç”¨çš„uiability" class="sidebar-link">å¯åŠ¨å…¶ä»–åº”ç”¨çš„UIAbility</a></li><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#å¯åŠ¨å…¶ä»–åº”ç”¨çš„uiabilityå¹¶è·å–è¿”å›ç»“æœ" class="sidebar-link">å¯åŠ¨å…¶ä»–åº”ç”¨çš„UIAbilityå¹¶è·å–è¿”å›ç»“æœ</a></li><li class="sidebar-sub-header level3"><a href="/harmonyOS/UIAbility/#å¯åŠ¨uiabilityçš„æŒ‡å®šé¡µé¢" class="sidebar-link">å¯åŠ¨UIAbilityçš„æŒ‡å®šé¡µé¢</a></li></ul></li></ul></li><li><a href="/harmonyOS/state/" class="sidebar-link">ç»„ä»¶é€šä¿¡æ–¹å¼</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-6"><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/harmonyOS/#harmonyOS" data-v-0c557b5e>harmonyOS</a></li></ul> <div class="info" data-v-0c557b5e><!----> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2025-01-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">UIAbility<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="uiabilityç»„ä»¶æ¦‚å¿µ"><a href="#uiabilityç»„ä»¶æ¦‚å¿µ" class="header-anchor">#</a> UIAbilityç»„ä»¶æ¦‚å¿µ</h2> <p>UIAbilityç»„ä»¶æ˜¯ä¸€ç§åŒ…æ‹¬UIç•Œé¢çš„åº”ç”¨ç»„ä»¶ï¼Œä¸»è¦ç”¨äºå’Œç”¨æˆ·äº¤äº’ã€‚  UIAbilityç»„ä»¶æ˜¯ç³»ç»Ÿè°ƒåº¦çš„åŸºæœ¬å•å…ƒï¼Œä¸ºåº”ç”¨æä¾›ç»˜åˆ¶ç•Œé¢çš„çª—å£ï¼Œä¸€ä¸ªUIAbilityç»„ä»¶ä¸­å¯ä»¥é€šè¿‡å¤šä¸ªé¡µé¢æ¥å®ç°ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ã€‚æ¯ä¸€ä¸ªUIAbilityç»„ä»¶å®ä¾‹ï¼Œéƒ½å¯¹åº”äºä¸€ä¸ªæœ€è¿‘çš„ä»»åŠ¡åˆ—è¡¨ä¸­çš„ä»»åŠ¡ã€‚</p> <h3 id="å£°æ˜é…ç½®"><a href="#å£°æ˜é…ç½®" class="header-anchor">#</a> å£°æ˜é…ç½®</h3> <p>ä¸ºä½¿åº”ç”¨èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨UIAbility, éœ€è¦åœ¨<code>module.json5</code>é…ç½®æ–‡ä»¶çš„abilitiesæ ‡ç­¾ä¸­å£°æ˜UIAbilityçš„åç§°ã€å…¥å£ã€æ ‡ç­¾ç­‰ç›¸å…³ä¿¡æ¯ã€‚</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token property">&quot;abilities&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EntryAbility&quot;</span><span class="token punctuation">,</span> <span class="token comment">// UIAbility ç»„ä»¶çš„åç§°</span>
        <span class="token property">&quot;srcEntry&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./ets/entryability/EntryAbility.ts&quot;</span><span class="token punctuation">,</span> <span class="token comment">// UIAbility ç»„ä»¶çš„ä»£ç è·¯å¾„</span>
        <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$string:EntryAbility_desc&quot;</span><span class="token punctuation">,</span> <span class="token comment">// UIAbilityç»„ä»¶çš„æè¿°ä¿¡æ¯</span>
        <span class="token property">&quot;icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$media:icon&quot;</span><span class="token punctuation">,</span> <span class="token comment">// UIAbilityç»„ä»¶å›¾æ ‡</span>
        <span class="token property">&quot;label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$string:EntryAbility_label&quot;</span><span class="token punctuation">,</span> <span class="token comment">// UIAbilityç»„ä»¶çš„æ ‡ç­¾</span>
        <span class="token property">&quot;startWindowIcon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$media:icon&quot;</span><span class="token punctuation">,</span> <span class="token comment">// UIAbilityç»„ä»¶å¯åŠ¨é¡µé¢å›¾æ ‡èµ„æºæ–‡ä»¶çš„ç´¢å¼•</span>
        <span class="token property">&quot;startWindowBackground&quot;</span><span class="token operator">:</span> <span class="token string">&quot;$color:start_window_background&quot;</span><span class="token punctuation">,</span> <span class="token comment">// UIAbilityç»„ä»¶å¯åŠ¨é¡µé¢èƒŒæ™¯é¢œè‰²èµ„æºæ–‡ä»¶çš„ç´¢å¼•</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="uiabilityç»„ä»¶å£°æ˜å‘¨æœŸ"><a href="#uiabilityç»„ä»¶å£°æ˜å‘¨æœŸ" class="header-anchor">#</a> UIAbilityç»„ä»¶å£°æ˜å‘¨æœŸ</h2> <p>å½“ç”¨æˆ·æ‰“å¼€ã€åˆ‡æ¢å’Œè¿”å›åˆ°å¯¹åº”åº”ç”¨æ—¶ï¼Œåº”ç”¨ä¸­çš„UiAbilityç»„ä»¶å®ä¾‹ä¼šåœ¨å…¶ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒçŠ¶æ€è¿›è¡Œè½¬æ¢ã€‚</p> <p>UIAbilityç»„ä»¶åŒ…æ‹¬å››ä¸ªç”Ÿå‘½å‘¨æœŸï¼š Createã€ Foregroundã€ Backgroundã€ Destroy</p> <p><img src="/images/harmonyOS/11.png" alt=""></p> <h3 id="create-çŠ¶æ€"><a href="#create-çŠ¶æ€" class="header-anchor">#</a> Create çŠ¶æ€</h3> <p>è¯¥çŠ¶æ€æ˜¯åœ¨åº”ç”¨åŠ è½½è¿‡ç¨‹ä¸­ï¼ŒUIAbilityå®ä¾‹åˆ›å»ºå®Œæˆæ—¶è§¦å‘ï¼Œç³»ç»Ÿä¼šè°ƒç”¨onCreate()å›è°ƒã€‚å¯ä»¥åœ¨è¯¥å›è°ƒä¸­è¿›è¡Œé¡µé¢åˆå§‹åŒ–æ“ä½œï¼Œä¾‹å¦‚å˜é‡å®šä¹‰èµ„æºåŠ è½½ç­‰ï¼Œç”¨äºåç»­çš„UIç•Œé¢å±•ç¤º</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> UIAbility <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.UIAbility'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Window <span class="token keyword">from</span> <span class="token string">'@ohos.window'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">EntryAbility</span> <span class="token keyword">extends</span> <span class="token class-name">UIAbility</span> <span class="token punctuation">{</span>
    <span class="token function">onCreate</span><span class="token punctuation">(</span>want<span class="token punctuation">,</span> launchParam<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// é¡µé¢åˆå§‹åŒ–</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="windowstagecreate-å’Œ-windowstagedestroy-çŠ¶æ€"><a href="#windowstagecreate-å’Œ-windowstagedestroy-çŠ¶æ€" class="header-anchor">#</a> windowStageCreate å’Œ windowStageDestroy çŠ¶æ€</h4> <p>UIAbilityå®ä¾‹åœ¨è¿›å…¥åˆ° Createä¹‹åï¼Œè¿›å…¥Foregroundä¹‹å‰ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªwindowStageã€‚</p> <p>WindowStageåˆ›å»ºå®Œæˆä»¥åï¼Œä¼šè¿›å…¥åˆ°onWindowStageCreate() å›è°ƒï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ—¶æœŸè®¾ç½®UIç•Œé¢åŠ è½½ã€è®¾ç½®WindowStageçš„äº‹ä»¶è®¢é˜…ã€‚</p> <p><img src="/images/harmonyOS/12.png" alt=""></p> <p>åœ¨<code>onWindowStageCreate()</code> å›è°ƒé‡ŒåŠ è½½<code>loadContent</code>æ–¹æ³•æŒ‡å®šåŠ è½½çš„é¡µé¢ï¼Œå¹¶æ ¹æ®éœ€è¦è®¢é˜…WindowStageäº‹ä»¶ï¼ˆè·ç„¦/å¤±ç„¦ã€å¯è§/ä¸å¯è§ï¼‰</p> <h4 id="foregroundå’ŒbackgroundçŠ¶æ€"><a href="#foregroundå’ŒbackgroundçŠ¶æ€" class="header-anchor">#</a> Foregroundå’ŒBackgroundçŠ¶æ€</h4> <p>Foreground å’ŒBackgroundåœ¨UIAbilityå®ä¾‹åˆ‡æ¢åˆ°å‰å°å’Œåå°æ—¶è§¦å‘ã€‚å¯¹åº”äºonForeground å’ŒonBackgroundå›è°ƒ</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> UIAbility <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.UIAbility'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">EntryAbility</span> <span class="token keyword">extends</span> <span class="token class-name">UIAbility</span> <span class="token punctuation">{</span>
    <span class="token function">onForeground</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç”³è¯·ç³»ç»Ÿéœ€è¦çš„èµ„æºï¼Œæˆ–è€…é‡æ–°ç”³è¯·åœ¨onBackgroundä¸­é‡Šæ”¾çš„èµ„æº</span>
    <span class="token punctuation">}</span>

    <span class="token function">onBackground</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// é‡Šæ”¾UIç•Œé¢ä¸å¯è§æ—¶æ— ç”¨çš„èµ„æºï¼Œæˆ–è€…åœ¨æ­¤å›è°ƒä¸­æ‰§è¡Œè¾ƒä¸ºè€—æ—¶çš„æ“ä½œ</span>
        <span class="token comment">// ä¾‹å¦‚çŠ¶æ€ä¿å­˜ç­‰</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="destroy"><a href="#destroy" class="header-anchor">#</a> Destroy</h4> <p>DestroyçŠ¶æ€åœ¨UIAbilityå®ä¾‹é”€æ¯æ—¶è§¦å‘ã€‚å¯ä»¥åœ¨onDestroy()å›è°ƒä¸­è¿›è¡Œç³»ç»Ÿèµ„æºçš„é‡Šæ”¾ã€æ•°æ®çš„ä¿å­˜ç­‰æ“ä½œã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> UIAbility <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.UIAbility'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">EntryAbility</span> <span class="token keyword">extends</span> <span class="token class-name">UIAbility</span> <span class="token punctuation">{</span>
    <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ç³»ç»Ÿèµ„æºçš„é‡Šæ”¾ã€æ•°æ®çš„ä¿å­˜ç­‰</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>å®Œæ•´UIAbilityç¤ºä¾‹ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> UIAbility <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.UIAbility'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> hilog <span class="token keyword">from</span> <span class="token string">'@ohos.hilog'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> window <span class="token keyword">from</span> <span class="token string">'@ohos.window'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">EntryAbility</span> <span class="token keyword">extends</span> <span class="token class-name">UIAbility</span> <span class="token punctuation">{</span>
  <span class="token function">onCreate</span><span class="token punctuation">(</span>want<span class="token punctuation">,</span> launchParam<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    hilog<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token number">0x0000</span><span class="token punctuation">,</span> <span class="token string">'testTag'</span><span class="token punctuation">,</span> <span class="token string">'%{public}s'</span><span class="token punctuation">,</span> <span class="token string">'Ability onCreate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    hilog<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token number">0x0000</span><span class="token punctuation">,</span> <span class="token string">'testTag'</span><span class="token punctuation">,</span> <span class="token string">'%{public}s'</span><span class="token punctuation">,</span> <span class="token string">'Ability onDestroy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">onWindowStageCreate</span><span class="token punctuation">(</span>windowStage<span class="token operator">:</span> window<span class="token punctuation">.</span>WindowStage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Main window is created, set main page for this ability</span>
    hilog<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token number">0x0000</span><span class="token punctuation">,</span> <span class="token string">'testTag'</span><span class="token punctuation">,</span> <span class="token string">'%{public}s'</span><span class="token punctuation">,</span> <span class="token string">'Ability onWindowStageCreate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    windowStage<span class="token punctuation">.</span><span class="token function">loadContent</span><span class="token punctuation">(</span><span class="token string">'pages/Index'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        hilog<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token number">0x0000</span><span class="token punctuation">,</span> <span class="token string">'testTag'</span><span class="token punctuation">,</span> <span class="token string">'Failed to load the content. Cause: %{public}s'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      hilog<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token number">0x0000</span><span class="token punctuation">,</span> <span class="token string">'testTag'</span><span class="token punctuation">,</span> <span class="token string">'Succeeded in loading the content. Data: %{public}s'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">onWindowStageDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Main window is destroyed, release UI related resources</span>
    hilog<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token number">0x0000</span><span class="token punctuation">,</span> <span class="token string">'testTag'</span><span class="token punctuation">,</span> <span class="token string">'%{public}s'</span><span class="token punctuation">,</span> <span class="token string">'Ability onWindowStageDestroy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">onForeground</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Ability has brought to foreground</span>
    hilog<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token number">0x0000</span><span class="token punctuation">,</span> <span class="token string">'testTag'</span><span class="token punctuation">,</span> <span class="token string">'%{public}s'</span><span class="token punctuation">,</span> <span class="token string">'Ability onForeground'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">onBackground</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Ability has back to background</span>
    hilog<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token number">0x0000</span><span class="token punctuation">,</span> <span class="token string">'testTag'</span><span class="token punctuation">,</span> <span class="token string">'%{public}s'</span><span class="token punctuation">,</span> <span class="token string">'Ability onBackground'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="uiabilityç»„ä»¶å¯åŠ¨æ¨¡å¼"><a href="#uiabilityç»„ä»¶å¯åŠ¨æ¨¡å¼" class="header-anchor">#</a> UIAbilityç»„ä»¶å¯åŠ¨æ¨¡å¼</h2> <p>ä¸‰ç§æ¨¡å—ï¼š</p> <ul><li>singleton(å•å®ä¾‹æ¨¡å¼)</li> <li>multition(å¤šå®ä¾‹æ¨¡å¼)</li> <li>specified(æŒ‡å®šå®ä¾‹æ¨¡å¼)</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token property">&quot;abilities&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;launchType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;singleton&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="singleton-å•å®ä¾‹æ¨¡å¼"><a href="#singleton-å•å®ä¾‹æ¨¡å¼" class="header-anchor">#</a> singleton(å•å®ä¾‹æ¨¡å¼)</h3> <p>æ¯æ¬¡è°ƒç”¨startAbility()æ–¹æ³•æ—¶ï¼Œå¦‚æœåº”ç”¨è¿›ç¨‹ä¸­è¯¥ç±»å‹çš„UIAbilityå®ä¾‹å·²ç»å­˜åœ¨ï¼Œåˆ™å¤ç”¨ç³»ç»Ÿä¸­çš„UIAbilityå®ä¾‹ã€‚</p> <p>ç³»ç»Ÿä¸­åªå­˜åœ¨ä¸€ä¸ªUIAbilityå®ä¾‹</p> <h3 id="multition-å¤šå®ä¾‹æ¨¡å¼"><a href="#multition-å¤šå®ä¾‹æ¨¡å¼" class="header-anchor">#</a> multition(å¤šå®ä¾‹æ¨¡å¼)</h3> <p>multition å¯åŠ¨æ¨¡å¼ ä¸ºå¤šå®ä¾‹æ¨¡å¼ï¼Œæ¯æ¬¡è°ƒç”¨startAbility() æ–¹æ³•æ—¶ï¼Œéƒ½ä¼šåœ¨è¿›ç¨‹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„è¯¥ç±»å‹UIAbilityå®ä¾‹ã€‚</p> <h3 id="specified-æŒ‡å®šå®ä¾‹æ¨¡å¼"><a href="#specified-æŒ‡å®šå®ä¾‹æ¨¡å¼" class="header-anchor">#</a> specified(æŒ‡å®šå®ä¾‹æ¨¡å¼)</h3> <p>specifiedå¯åŠ¨æ¨¡å¼ä¸ºæŒ‡å®šå®ä¾‹æ¨¡å¼ï¼Œé’ˆå¯¹ä¸€äº›ç‰¹æ®Šåœºæ™¯ä½¿ç”¨ï¼ˆä¾‹å¦‚æ–‡æ¡£åº”ç”¨ä¸­æ¯æ¬¡æ–°å»ºæ–‡æ¡£å¸Œæœ›éƒ½èƒ½æ–°å»ºä¸€ä¸ªæ–‡æ¡£å®ä¾‹ï¼Œé‡å¤æ‰“å¼€ä¸€ä¸ªå·²ä¿å­˜çš„æ–‡æ¡£å¸Œæœ›æ‰“å¼€çš„æ˜¯åŒä¸€ä¸ªæ–‡æ¡£å®ä¾‹ï¼‰</p> <p>æ¯ä¸ªå®ä¾‹ç»‘å®šä¸€ä¸ªå”¯ä¸€çš„keyï¼ˆinstanceKeyï¼‰ï¼Œå¦‚æœåŒ¹é…æœ‰è¯¥UIAbilityå®ä¾‹çš„Keyï¼Œåˆ™ç›´æ¥æ‹‰èµ·ä¸ä¹‹ç»‘å®šçš„UIAbility å®ä¾‹ã€‚å¦åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„UIAbilityå®ä¾‹ã€‚</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// åœ¨å¯åŠ¨æŒ‡å®šå®ä¾‹æ¨¡å¼çš„UIAbilityæ—¶ï¼Œç»™æ¯ä¸€ä¸ªUIAbilityå®ä¾‹é…ç½®ä¸€ä¸ªç‹¬ç«‹çš„Keyæ ‡è¯†</span>
<span class="token comment">// ä¾‹å¦‚åœ¨æ–‡æ¡£ä½¿ç”¨åœºæ™¯ä¸­ï¼Œå¯ä»¥ç”¨æ–‡æ¡£è·¯å¾„ä½œä¸ºKeyæ ‡è¯†</span>
<span class="token keyword">function</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> want <span class="token operator">=</span> <span class="token punctuation">{</span>
    deviceId<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// deviceIdä¸ºç©ºè¡¨ç¤ºæœ¬è®¾å¤‡</span>
    bundleName<span class="token operator">:</span> <span class="token string">'com.example.myapplication'</span><span class="token punctuation">,</span>
    abilityName<span class="token operator">:</span> <span class="token string">'FuncAbility'</span><span class="token punctuation">,</span>
    moduleName<span class="token operator">:</span> <span class="token string">'module1'</span><span class="token punctuation">,</span> <span class="token comment">// moduleNameéå¿…é€‰</span>
    parameters<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// è‡ªå®šä¹‰ä¿¡æ¯</span>
        instanceKey<span class="token operator">:</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// contextä¸ºè°ƒç”¨æ–¹UIAbilityçš„AbilityContext</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">startAbility</span><span class="token punctuation">(</span>want<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="uiability-ç»„ä»¶åŸºæœ¬ç”¨æ³•"><a href="#uiability-ç»„ä»¶åŸºæœ¬ç”¨æ³•" class="header-anchor">#</a> UIAbility ç»„ä»¶åŸºæœ¬ç”¨æ³•</h2> <p>æŒ‡å®šUIAbility å¯åŠ¨é¡µé¢å’Œè·å–UIAbilityä¸Šä¸‹æ–‡UIAbilityContext</p> <h3 id="æŒ‡å®šuiabilityçš„å¯åŠ¨é¡µé¢"><a href="#æŒ‡å®šuiabilityçš„å¯åŠ¨é¡µé¢" class="header-anchor">#</a> æŒ‡å®šUIAbilityçš„å¯åŠ¨é¡µé¢</h3> <p>åº”ç”¨ä¸­çš„UIAbilityåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æŒ‡å®šå¯åŠ¨é¡µé¢ï¼Œå¦åˆ™åº”ç”¨å¯åŠ¨åä¼šå› ä¸ºæ²¡æœ‰åŠ è½½é»˜è®¤é¡µé¢è€Œç™½å±</p> <p>åœ¨UIAbilityçš„ onWindowStageCreate() è°ƒç”¨loadContent() è®¾ç½®å¯åŠ¨é¡µé¢</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> UIAbility <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.UIAbility'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Window <span class="token keyword">from</span> <span class="token string">'@ohos.window'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">EntryAbility</span> <span class="token keyword">extends</span> <span class="token class-name">UIAbility</span> <span class="token punctuation">{</span>
    <span class="token function">onWindowStageCreate</span><span class="token punctuation">(</span>windowStage<span class="token operator">:</span> Window<span class="token punctuation">.</span>WindowStage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Main window is created, set main page for this ability</span>
        windowStage<span class="token punctuation">.</span><span class="token function">loadContent</span><span class="token punctuation">(</span><span class="token string">'pages/Index'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// ...</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="è·å–uiabilityçš„ä¸Šä¸‹æ–‡ä¿¡æ¯"><a href="#è·å–uiabilityçš„ä¸Šä¸‹æ–‡ä¿¡æ¯" class="header-anchor">#</a> è·å–UIAbilityçš„ä¸Šä¸‹æ–‡ä¿¡æ¯</h3> <p>é€šè¿‡UIAbilityContextå¯ä»¥è·å–UIAbilityçš„ç›¸å…³é…ç½®ä¿¡æ¯ï¼Œå¦‚åŒ…ä»£ç è·¯å¾„ã€Bundleåç§°ã€Abilityåç§°å’Œåº”ç”¨ç¨‹åºéœ€è¦çš„ç¯å¢ƒçŠ¶æ€ç­‰å±æ€§ä¿¡æ¯ï¼Œä»¥åŠå¯ä»¥è·å–æ“ä½œUIAbilityå®ä¾‹çš„æ–¹æ³•ï¼ˆå¦‚startAbility()ã€connectServiceExtensionAbility()ã€terminateSelf()ç­‰ï¼‰</p> <ul><li>åœ¨UIAbilityä¸­å¯ä»¥é€šè¿‡this.contextè·å–UIAbilityå®ä¾‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> UIAbility <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.UIAbility'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">EntryAbility</span> <span class="token keyword">extends</span> <span class="token class-name">UIAbility</span> <span class="token punctuation">{</span>
    <span class="token function">onCreate</span><span class="token punctuation">(</span>want<span class="token punctuation">,</span> launchParam<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// è·å–UIAbilityå®ä¾‹çš„ä¸Šä¸‹æ–‡</span>
        <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">;</span>

        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><ul><li>åœ¨é¡µé¢ä¸­è·å–UIAbilityå®ä¾‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¯¼å…¥ä¾èµ–èµ„æºcontextæ¨¡å—å’Œåœ¨ç»„ä»¶ä¸­å®šä¹‰ä¸€ä¸ªcontextå˜é‡ä¸¤ä¸ªéƒ¨åˆ†ã€‚</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> common <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.common'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Entry</span></span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span>
struct Index <span class="token punctuation">{</span>
  <span class="token keyword">private</span> context <span class="token operator">=</span> <span class="token function">getContext</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token keyword">as</span> common<span class="token punctuation">.</span>UIAbilityContext<span class="token punctuation">;</span>

  <span class="token function">startAbilityTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> want <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">// Wantå‚æ•°ä¿¡æ¯</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">startAbility</span><span class="token punctuation">(</span>want<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// é¡µé¢å±•ç¤º</span>
  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">import</span> common <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.common'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Entry</span></span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span>
struct Index <span class="token punctuation">{</span>

  <span class="token function">startAbilityTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token function">getContext</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token keyword">as</span> common<span class="token punctuation">.</span>UIAbilityContext<span class="token punctuation">;</span>
    <span class="token keyword">let</span> want <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">// Wantå‚æ•°ä¿¡æ¯</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">startAbility</span><span class="token punctuation">(</span>want<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// é¡µé¢å±•ç¤º</span>
  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="uiabilityç»„ä»¶ä¸uiçš„æ•°æ®åŒæ­¥"><a href="#uiabilityç»„ä»¶ä¸uiçš„æ•°æ®åŒæ­¥" class="header-anchor">#</a> UIAbilityç»„ä»¶ä¸UIçš„æ•°æ®åŒæ­¥</h2> <ul><li><p>ä½¿ç”¨EventHubè¿›è¡Œæ•°æ®é€šä¿¡ï¼šåŸºäºå‘å¸ƒè®¢é˜…æ¨¡å¼æ¥å®ç°ï¼Œäº‹ä»¶éœ€è¦å…ˆè®¢é˜…åå‘å¸ƒï¼Œè®¢é˜…è€…æ”¶åˆ°æ¶ˆæ¯åè¿›è¡Œå¤„ç†ã€‚</p></li> <li><p>ä½¿ç”¨globalThisè¿›è¡Œæ•°æ®åŒæ­¥ï¼šArkTSå¼•æ“å®ä¾‹å†…éƒ¨çš„ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œåœ¨ArkTSå¼•æ“å®ä¾‹å†…éƒ¨éƒ½èƒ½è®¿é—®ã€‚</p></li> <li><p>ä½¿ç”¨AppStorage/LocalStorageè¿›è¡Œæ•°æ®åŒæ­¥ï¼šArkUIæä¾›äº†AppStorageå’ŒLocalStorageä¸¤ç§åº”ç”¨çº§åˆ«çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼Œå¯ç”¨äºå®ç°åº”ç”¨çº§åˆ«å’ŒUIAbilityçº§åˆ«çš„æ•°æ®åŒæ­¥ã€‚</p></li></ul> <h3 id="ä½¿ç”¨eventhubè¿›è¡Œæ•°æ®é€šä¿¡"><a href="#ä½¿ç”¨eventhubè¿›è¡Œæ•°æ®é€šä¿¡" class="header-anchor">#</a> ä½¿ç”¨EventHubè¿›è¡Œæ•°æ®é€šä¿¡</h3> <p>æ‰§è¡Œè®¢é˜…æ“ä½œ</p> <div class="language-ts extra-class"><pre class="language-ts"><code>
<span class="token keyword">import</span> UIAbility <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.UIAbility'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">TAG</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'[Example].[Entry].[EntryAbility]'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">EntryAbility</span> <span class="token keyword">extends</span> <span class="token class-name">UIAbility</span> <span class="token punctuation">{</span>
    <span class="token function">func1</span><span class="token punctuation">(</span><span class="token operator">...</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// è§¦å‘äº‹ä»¶ï¼Œå®Œæˆç›¸åº”çš„ä¸šåŠ¡æ“ä½œ</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">'1. '</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">onCreate</span><span class="token punctuation">(</span>want<span class="token punctuation">,</span> launch<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// è·å–eventHub</span>
        <span class="token keyword">let</span> eventhub <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>eventHub<span class="token punctuation">;</span>
        <span class="token comment">// æ‰§è¡Œè®¢é˜…æ“ä½œ</span>
        eventhub<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>func1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eventhub<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token operator">...</span>data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// è§¦å‘äº‹ä»¶ï¼Œå®Œæˆç›¸åº”çš„ä¸šåŠ¡æ“ä½œ</span>
            <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">'2. '</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>è§¦å‘è¯¥äº‹ä»¶</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> common <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.common'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Entry</span></span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span>
struct Index <span class="token punctuation">{</span>
  <span class="token keyword">private</span> context <span class="token operator">=</span> <span class="token function">getContext</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token keyword">as</span> common<span class="token punctuation">.</span>UIAbilityContext<span class="token punctuation">;</span>

  <span class="token function">eventHubFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¸å¸¦å‚æ•°è§¦å‘è‡ªå®šä¹‰â€œevent1â€äº‹ä»¶</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>eventHub<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å¸¦1ä¸ªå‚æ•°è§¦å‘è‡ªå®šä¹‰â€œevent1â€äº‹ä»¶</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>eventHub<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å¸¦2ä¸ªå‚æ•°è§¦å‘è‡ªå®šä¹‰â€œevent1â€äº‹ä»¶</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span>eventHub<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å¼€å‘è€…å¯ä»¥æ ¹æ®å®é™…çš„ä¸šåŠ¡åœºæ™¯è®¾è®¡äº‹ä»¶ä¼ é€’çš„å‚æ•°</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// é¡µé¢å±•ç¤º</span>
  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ä½¿ç”¨globalthisè¿›è¡Œæ•°æ®åŒæ­¥"><a href="#ä½¿ç”¨globalthisè¿›è¡Œæ•°æ®åŒæ­¥" class="header-anchor">#</a> ä½¿ç”¨globalThisè¿›è¡Œæ•°æ®åŒæ­¥</h3> <p>ä½¿ç”¨globalThisè¿›è¡Œæ•°æ®åŒæ­¥
<img src="/images/harmonyOS/13.png" alt=""></p> <p>ä½¿ç”¨ï¼š</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">//æ•°æ®å­˜å…¥globalThisä¸­</span>
 globalThis<span class="token punctuation">.</span>xxx<span class="token operator">=</span> <span class="token punctuation">[</span>æ•°æ®<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//éœ€è¦ä½¿ç”¨çš„åœ°æ–¹è°ƒç”¨</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> globalThis<span class="token punctuation">.</span>xxx

</code></pre></div><div class="custom-block tip"><p class="custom-block-title">UIAbilityå’ŒUIAbilityä¹‹é—´ä½¿ç”¨globalThis ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹</p> <ul><li>å­˜æ”¾åç§°ä¸è¦ç›¸åŒ,Stageæ¨¡å‹ä¸‹è¿›ç¨‹å†…çš„UIAbilityç»„ä»¶å…±äº«ArkTSå¼•æ“å®ä¾‹ï¼Œä½¿ç”¨globalThisæ—¶éœ€è¦é¿å…å­˜æ”¾ç›¸åŒåç§°çš„å¯¹è±¡ã€‚ä¾‹å¦‚AbilityAå’ŒAbilityBå¯ä»¥ä½¿ç”¨globalThiså…±äº«æ•°æ®ï¼Œåœ¨å­˜æ”¾ç›¸åŒåç§°çš„å¯¹è±¡æ—¶ï¼Œå…ˆå­˜æ”¾çš„å¯¹è±¡ä¼šè¢«åå­˜æ”¾çš„å¯¹è±¡è¦†ç›–ã€‚</li> <li>ç”¨å®Œå°†å…¶èµ‹å€¼ä¸ºnullï¼Œä»¥å‡å°‘å¯¹åº”ç”¨å†…å­˜çš„å ç”¨ã€‚å¯¹äºç»‘å®šåœ¨globalThisä¸Šçš„å¯¹è±¡ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸä¸ArkTSè™šæ‹Ÿæœºå®ä¾‹ç›¸åŒï¼Œå»ºè®®åœ¨ä½¿ç”¨å®Œæˆä¹‹åå°†å…¶èµ‹å€¼ä¸ºnullï¼Œä»¥å‡å°‘å¯¹åº”ç”¨å†…å­˜çš„å ç”¨ã€‚</li></ul></div> <h3 id="ä½¿ç”¨appstorage-localstorageè¿›è¡Œæ•°æ®åŒæ­¥"><a href="#ä½¿ç”¨appstorage-localstorageè¿›è¡Œæ•°æ®åŒæ­¥" class="header-anchor">#</a> ä½¿ç”¨AppStorage/LocalStorageè¿›è¡Œæ•°æ®åŒæ­¥</h3> <ul><li>AppStorageï¼šæ˜¯å…¨å±€çŠ¶æ€ç®¡ç†å™¨ï¼Œé€‚åº”äº å¤šä¸ª UIAbility å…±äº«åŒä¸€ä»½æ•°æ®çš„æƒ…å†µ</li> <li>LocalStorageï¼šæ˜¯å±€éƒ¨çŠ¶æ€ç®¡ç†å™¨ï¼Œé€‚åº”äºå•ä¸ªUIAbility å†…éƒ¨ä½¿ç”¨çš„çŠ¶æ€æ•°æ®</li></ul> <h2 id="uiabilityç»„ä»¶å†…äº¤äº’-è®¾å¤‡å†…"><a href="#uiabilityç»„ä»¶å†…äº¤äº’-è®¾å¤‡å†…" class="header-anchor">#</a> UiAbilityç»„ä»¶å†…äº¤äº’ï¼ˆè®¾å¤‡å†…ï¼‰</h2> <p>UIAbility æ˜¯ç³»ç»Ÿè°ƒåº¦çš„æœ€å°å•å…ƒï¼Œåœ¨è®¾å¤‡å†…çš„åŠŸèƒ½æ¨¡å—è·³è½¬æ—¶ï¼Œä¼šæ¶‰åŠåˆ°å¯åŠ¨çš„ç‰¹å®šçš„UIAbilityï¼Œè¯¥UIAbility åº”è¯¥æ˜¯åº”ç”¨å†…çš„å…¶ä»–UIAbility,ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–åº”ç”¨çš„UIAbilityï¼ˆæ¯”å¦‚ç¬¬ä¸‰æ–¹æ”¯ä»˜ï¼‰</p> <h3 id="å¯åŠ¨åº”ç”¨å†…çš„uiability"><a href="#å¯åŠ¨åº”ç”¨å†…çš„uiability" class="header-anchor">#</a> å¯åŠ¨åº”ç”¨å†…çš„UIAbility</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> wantInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
    deviceId<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// deviceIdä¸ºç©ºè¡¨ç¤ºæœ¬è®¾å¤‡</span>
    bundleName<span class="token operator">:</span> <span class="token string">'com.example.myapplication'</span><span class="token punctuation">,</span>
    abilityName<span class="token operator">:</span> <span class="token string">'FuncAbility'</span><span class="token punctuation">,</span>
    moduleName<span class="token operator">:</span> <span class="token string">'module1'</span><span class="token punctuation">,</span> <span class="token comment">// moduleNameéå¿…é€‰</span>
    parameters<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// è‡ªå®šä¹‰ä¿¡æ¯</span>
        info<span class="token operator">:</span> <span class="token string">'æ¥è‡ªEntryAbility Indexé¡µé¢'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// contextä¸ºè°ƒç”¨æ–¹UIAbilityçš„AbilityContext</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">startAbility</span><span class="token punctuation">(</span>wantInfo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>æ¥å—å‚æ•°</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> UIAbility <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.UIAbility'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Window <span class="token keyword">from</span> <span class="token string">'@ohos.window'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">FuncAbility</span> <span class="token keyword">extends</span> <span class="token class-name">UIAbility</span> <span class="token punctuation">{</span>
    <span class="token function">onCreate</span><span class="token punctuation">(</span>want<span class="token punctuation">,</span> launchParam<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ¥æ”¶è°ƒç”¨æ–¹UIAbilityä¼ è¿‡æ¥çš„å‚æ•°</span>
        <span class="token keyword">let</span> funcAbilityWant <span class="token operator">=</span> want<span class="token punctuation">;</span>
        <span class="token keyword">let</span> info <span class="token operator">=</span> funcAbilityWant<span class="token operator">?.</span>parameters<span class="token operator">?.</span>info<span class="token punctuation">;</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœæ­¢å½“å‰UIAbilityå®ä¾‹</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// contextä¸ºéœ€è¦åœæ­¢çš„UIAbilityå®ä¾‹çš„AbilityContext</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">terminateSelf</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å¯åŠ¨åº”ç”¨å†…çš„uiabilityå¹¶è·å–è¿”å›ç»“æœ"><a href="#å¯åŠ¨åº”ç”¨å†…çš„uiabilityå¹¶è·å–è¿”å›ç»“æœ" class="header-anchor">#</a> å¯åŠ¨åº”ç”¨å†…çš„UIAbilityå¹¶è·å–è¿”å›ç»“æœ</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> wantInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
    deviceId<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// deviceIdä¸ºç©ºè¡¨ç¤ºæœ¬è®¾å¤‡</span>
    bundleName<span class="token operator">:</span> <span class="token string">'com.example.myapplication'</span><span class="token punctuation">,</span>
    abilityName<span class="token operator">:</span> <span class="token string">'FuncAbility'</span><span class="token punctuation">,</span>
    moduleName<span class="token operator">:</span> <span class="token string">'module1'</span><span class="token punctuation">,</span> <span class="token comment">// moduleNameéå¿…é€‰</span>
    parameters<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// è‡ªå®šä¹‰ä¿¡æ¯</span>
        info<span class="token operator">:</span> <span class="token string">'æ¥è‡ªEntryAbility Indexé¡µé¢'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// contextä¸ºè°ƒç”¨æ–¹UIAbilityçš„AbilityContext</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">startAbilityForResult</span><span class="token punctuation">(</span>wantInfo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> <span class="token constant">RESULT_CODE</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1001</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> abilityResult <span class="token operator">=</span> <span class="token punctuation">{</span>
    resultCode<span class="token operator">:</span> <span class="token constant">RESULT_CODE</span><span class="token punctuation">,</span>
    want<span class="token operator">:</span> <span class="token punctuation">{</span>
        bundleName<span class="token operator">:</span> <span class="token string">'com.example.myapplication'</span><span class="token punctuation">,</span>
        abilityName<span class="token operator">:</span> <span class="token string">'FuncAbility'</span><span class="token punctuation">,</span>
        moduleName<span class="token operator">:</span> <span class="token string">'module1'</span><span class="token punctuation">,</span>
        parameters<span class="token operator">:</span> <span class="token punctuation">{</span>
            info<span class="token operator">:</span> <span class="token string">'æ¥è‡ªFuncAbility Indexé¡µé¢'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// contextä¸ºè¢«è°ƒç”¨æ–¹UIAbilityçš„AbilityContext</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">terminateSelfWithResult</span><span class="token punctuation">(</span>abilityResult<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">const</span> <span class="token constant">RESULT_CODE</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1001</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token comment">// contextä¸ºè°ƒç”¨æ–¹UIAbilityçš„AbilityContext</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">startAbilityForResult</span><span class="token punctuation">(</span>want<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token operator">?.</span>resultCode <span class="token operator">===</span> <span class="token constant">RESULT_CODE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// è§£æè¢«è°ƒç”¨æ–¹UIAbilityè¿”å›çš„ä¿¡æ¯</span>
        <span class="token keyword">let</span> info <span class="token operator">=</span> data<span class="token punctuation">.</span>want<span class="token operator">?.</span>parameters<span class="token operator">?.</span>info<span class="token punctuation">;</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="å¯åŠ¨å…¶ä»–åº”ç”¨çš„uiability"><a href="#å¯åŠ¨å…¶ä»–åº”ç”¨çš„uiability" class="header-anchor">#</a> å¯åŠ¨å…¶ä»–åº”ç”¨çš„UIAbility</h3> <p>å¯åŠ¨UIAbility æœ‰æ˜¾å¼å¯åŠ¨å’Œéšå¼å¯åŠ¨ ä¸¤ç§</p> <ul><li><p>æ˜¾å¼Wantå¯åŠ¨ï¼šå¯åŠ¨ä¸€ä¸ªç¡®å®šåº”ç”¨çš„UIAbilityï¼Œåœ¨wantå‚æ•°ä¸­éœ€è¦è®¾ç½®è¯¥åº”ç”¨bundleNameå’ŒabilityNameï¼Œå½“éœ€è¦æ‹‰èµ·æŸä¸ªæ˜ç¡®çš„UIAbilityæ—¶ï¼Œé€šå¸¸ä½¿ç”¨æ˜¾å¼Wantå¯åŠ¨æ–¹å¼ã€‚</p></li> <li><p>éšå¼å¯åŠ¨ï¼šæ ¹æ®åŒ¹é…æ¡ä»¶ç”±ç”¨æˆ·é€‰æ‹©å¯åŠ¨å“ªä¸ªUIAbility,ä¸æ˜ç¡®æŒ‡å‡ºè¦å¯åŠ¨å“ªä¸€ä¸ªUIAbilityï¼ˆabilityNameå‚æ•°æœªè®¾ç½®ï¼‰</p></li></ul> <h3 id="å¯åŠ¨å…¶ä»–åº”ç”¨çš„uiabilityå¹¶è·å–è¿”å›ç»“æœ"><a href="#å¯åŠ¨å…¶ä»–åº”ç”¨çš„uiabilityå¹¶è·å–è¿”å›ç»“æœ" class="header-anchor">#</a> å¯åŠ¨å…¶ä»–åº”ç”¨çš„UIAbilityå¹¶è·å–è¿”å›ç»“æœ</h3> <h3 id="å¯åŠ¨uiabilityçš„æŒ‡å®šé¡µé¢"><a href="#å¯åŠ¨uiabilityçš„æŒ‡å®šé¡µé¢" class="header-anchor">#</a> å¯åŠ¨UIAbilityçš„æŒ‡å®šé¡µé¢</h3> <h4 id="è°ƒç”¨æ–¹uiabilityæŒ‡å®šå¯åŠ¨é¡µé¢"><a href="#è°ƒç”¨æ–¹uiabilityæŒ‡å®šå¯åŠ¨é¡µé¢" class="header-anchor">#</a> è°ƒç”¨æ–¹UIAbilityæŒ‡å®šå¯åŠ¨é¡µé¢</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">let</span> wantInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
    deviceId<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// deviceIdä¸ºç©ºè¡¨ç¤ºæœ¬è®¾å¤‡</span>
    bundleName<span class="token operator">:</span> <span class="token string">'com.example.myapplication'</span><span class="token punctuation">,</span>
    abilityName<span class="token operator">:</span> <span class="token string">'FuncAbility'</span><span class="token punctuation">,</span>
    moduleName<span class="token operator">:</span> <span class="token string">'module1'</span><span class="token punctuation">,</span> <span class="token comment">// moduleNameéå¿…é€‰</span>
    parameters<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// è‡ªå®šä¹‰å‚æ•°ä¼ é€’é¡µé¢ä¿¡æ¯</span>
        router<span class="token operator">:</span> <span class="token string">'funcA'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// contextä¸ºè°ƒç”¨æ–¹UIAbilityçš„AbilityContext</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">startAbility</span><span class="token punctuation">(</span>wantInfo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="ç›®æ ‡uiabilityé¦–æ¬¡å¯åŠ¨"><a href="#ç›®æ ‡uiabilityé¦–æ¬¡å¯åŠ¨" class="header-anchor">#</a> ç›®æ ‡UIAbilityé¦–æ¬¡å¯åŠ¨</h4> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> UIAbility <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.UIAbility'</span>
<span class="token keyword">import</span> Window <span class="token keyword">from</span> <span class="token string">'@ohos.window'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">FuncAbility</span> <span class="token keyword">extends</span> <span class="token class-name">UIAbility</span> <span class="token punctuation">{</span>
    funcAbilityWant<span class="token punctuation">;</span>

    <span class="token function">onCreate</span><span class="token punctuation">(</span>want<span class="token punctuation">,</span> launchParam<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ¥æ”¶è°ƒç”¨æ–¹UIAbilityä¼ è¿‡æ¥çš„å‚æ•°</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>funcAbilityWant <span class="token operator">=</span> want<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">onWindowStageCreate</span><span class="token punctuation">(</span>windowStage<span class="token operator">:</span> Window<span class="token punctuation">.</span>WindowStage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Main window is created, set main page for this ability</span>
        <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">'pages/Index'</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>funcAbilityWant<span class="token operator">?.</span>parameters<span class="token operator">?.</span>router<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>funcAbilityWant<span class="token punctuation">.</span>parameters<span class="token punctuation">.</span>router <span class="token operator">===</span> <span class="token string">'funcA'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                url <span class="token operator">=</span> <span class="token string">'pages/Second'</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        windowStage<span class="token punctuation">.</span><span class="token function">loadContent</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// ...</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="ç›®æ ‡uiabilityéé¦–æ¬¡å¯åŠ¨"><a href="#ç›®æ ‡uiabilityéé¦–æ¬¡å¯åŠ¨" class="header-anchor">#</a> ç›®æ ‡UIAbilityéé¦–æ¬¡å¯åŠ¨</h4> <p><img src="/images/harmonyOS/16.png" alt=""></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> UIAbility <span class="token keyword">from</span> <span class="token string">'@ohos.app.ability.UIAbility'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">FuncAbility</span> <span class="token keyword">extends</span> <span class="token class-name">UIAbility</span> <span class="token punctuation">{</span>
    <span class="token function">onNewWant</span><span class="token punctuation">(</span>want<span class="token punctuation">,</span> launchParam<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ¥æ”¶è°ƒç”¨æ–¹UIAbilityä¼ è¿‡æ¥çš„å‚æ•°</span>
        globalThis<span class="token punctuation">.</span>funcAbilityWant <span class="token operator">=</span> want<span class="token punctuation">;</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'@ohos.router'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Entry</span></span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">Component</span></span>
struct Index <span class="token punctuation">{</span>
  <span class="token function">onPageShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> funcAbilityWant <span class="token operator">=</span> globalThis<span class="token punctuation">.</span>funcAbilityWant<span class="token punctuation">;</span>
    <span class="token keyword">let</span> url2 <span class="token operator">=</span> funcAbilityWant<span class="token operator">?.</span>parameters<span class="token operator">?.</span>router<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>url2 <span class="token operator">&amp;&amp;</span> url2 <span class="token operator">===</span> <span class="token string">'funcA'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      router<span class="token punctuation">.</span><span class="token function">replaceUrl</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        url<span class="token operator">:</span> <span class="token string">'pages/Second'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// é¡µé¢å±•ç¤º</span>
  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">æç¤º</p> <p>å½“è¢«è°ƒç”¨æ–¹Abilityçš„å¯åŠ¨æ¨¡å¼è®¾ç½®ä¸ºmultitonå¯åŠ¨æ¨¡å¼æ—¶ï¼Œæ¯æ¬¡å¯åŠ¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œé‚£ä¹ˆonNewWant()å›è°ƒå°±ä¸ä¼šè¢«ç”¨åˆ°ã€‚</p></div></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=harmonyOS" title="æ ‡ç­¾">#harmonyOS</a></div> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/harmonyOS/ArkUI/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">ArkUI</div></a> <a href="/harmonyOS/state/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">ç»„ä»¶é€šä¿¡æ–¹å¼</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/harmonyOS/ArkUI/" class="prev">ArkUI</a></span> <span class="next"><a href="/harmonyOS/state/">ç»„ä»¶é€šä¿¡æ–¹å¼</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/aiAgent/model/"><div>
            Agentå¤šæ¨¡æ€
            <!----></div></a> <span class="date">01-13</span></dt></dl><dl><dd>02</dd> <dt><a href="/aiAgent/bacis/"><div>
            AgentåŸºç¡€
            <!----></div></a> <span class="date">01-13</span></dt></dl><dl><dd>03</dd> <dt><a href="/aiAgent/design/"><div>
            Agentæ¨¡å¼
            <!----></div></a> <span class="date">01-13</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1730129114@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/wshuhua" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/my/m/music/playlist?id=7141103351" title="å¬éŸ³ä¹" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2022-2026
    <span>Wsh  | <a href="https://github.com/wshuhua" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b9210fed.js" defer></script><script src="/assets/js/2.dc8a2400.js" defer></script><script src="/assets/js/20.fb7a117c.js" defer></script>
  </body>
</html>
